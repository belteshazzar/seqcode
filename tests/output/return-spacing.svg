<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="279" height="600" viewBox="0 0 279 600"><defs><linearGradient id="SvgjsLinearGradient1009"><stop stop-color="#ffffff" offset="0"></stop><stop stop-color="#f1f2f6" offset="1"></stop></linearGradient><text id="seqcode">
a: actor
b: boundary

# send
b&gt;do() {
  # can't return when sending
  return(result)
}

# self call
a.do() {
  # call
  b.do() {
    return(not aligned nicely)
  }
  return(this is not spacing correctly)
}

# self send
a&gt;do() {
  return(result)
}
</text></defs><rect width="279" height="600" fill="white" stroke-width="1" stroke="black"></rect><a href="http://seqcode.app" target="_blank"><text text-anchor="end" font-size="12" font-weight="100" font-family="sans-serif" fill="#4a91ed" x="275.4" y="593.4">seqcode </text></a><line x1="30" y1="75" x2="30" y2="570" stroke-dasharray="8 5" stroke-width="1" stroke="black"></line><line x1="189" y1="75" x2="189" y2="570" stroke-dasharray="8 5" stroke-width="1" stroke="black"></line><g><rect width="20" height="450" x="20" y="90" fill="url(#SvgjsLinearGradient1009)" stroke-width="1" stroke="black"></rect></g><g><rect width="20" height="90" x="30" y="180" fill="url(#SvgjsLinearGradient1009)" stroke-width="1" stroke="black"></rect></g><g><rect width="20" height="150" x="30" y="360" fill="url(#SvgjsLinearGradient1009)" stroke-width="1" stroke="black"></rect></g><g><rect width="20" height="30" x="40" y="420" fill="url(#SvgjsLinearGradient1009)" stroke-width="1" stroke="black"></rect></g><g><rect width="20" height="210" x="179" y="120" fill="url(#SvgjsLinearGradient1009)" stroke-width="1" stroke="black"></rect></g><g><rect width="20" height="90" x="189" y="180" fill="url(#SvgjsLinearGradient1009)" stroke-width="1" stroke="black"></rect></g><g><rect width="20" height="30" x="199" y="210" fill="url(#SvgjsLinearGradient1009)" stroke-width="1" stroke="black"></rect></g><line x1="40" y1="120" x2="179" y2="120" stroke-width="1" stroke="black"></line><text text-anchor="start" font-size="12" font-weight="100" font-family="sans-serif" fill="black" x="43" y="116">do()</text><polyline points="172,113 179,120 172,127" fill="transparent" stroke-width="1" stroke="black"></polyline><text text-anchor="start" font-size="12" font-weight="100" font-family="sans-serif" fill="black" x="43" y="146">do()</text><line x1="40" y1="150" x2="70" y2="150" stroke-width="1" stroke="black"></line><line x1="70" y1="150" x2="70" y2="180" stroke-width="1" stroke="black"></line><line x1="50" y1="180" x2="70" y2="180" stroke-width="1" stroke="black"></line><polyline points="57,173 50,180 57,187" fill="black" stroke-width="1" stroke="black"></polyline><line x1="50" y1="210" x2="199" y2="210" stroke-width="1" stroke="black"></line><text text-anchor="start" font-size="12" font-weight="100" font-family="sans-serif" fill="black" x="53" y="206">do()</text><polyline points="192,203 199,210 192,217" fill="black" stroke-width="1" stroke="black"></polyline><line x1="199" y1="240" x2="50" y2="240" stroke-dasharray="8 5" stroke-width="1" stroke="black"></line><text text-anchor="end" font-size="12" font-weight="100" font-family="sans-serif" fill="black" x="196" y="236">not aligned nicely</text><polyline points="57,233 50,240 57,247" fill="transparent" stroke-width="1" stroke="black"></polyline><text text-anchor="start" font-size="12" font-weight="100" font-family="sans-serif" fill="black" x="53" y="266">this is not spacing correctly</text><line x1="50" y1="270" x2="70" y2="270" stroke-dasharray="8 5" stroke-width="1" stroke="black"></line><line x1="70" y1="270" x2="70" y2="300" stroke-dasharray="8 5" stroke-width="1" stroke="black"></line><line x1="40" y1="300" x2="70" y2="300" stroke-dasharray="8 5" stroke-width="1" stroke="black"></line><polyline points="47,293 40,300 47,307" fill="transparent" stroke-width="1" stroke="black"></polyline><text text-anchor="start" font-size="12" font-weight="100" font-family="sans-serif" fill="black" x="43" y="326">do()</text><line x1="40" y1="330" x2="70" y2="330" stroke-width="1" stroke="black"></line><line x1="70" y1="330" x2="70" y2="360" stroke-width="1" stroke="black"></line><line x1="50" y1="360" x2="70" y2="360" stroke-width="1" stroke="black"></line><polyline points="57,353 50,360 57,367" fill="transparent" stroke-width="1" stroke="black"></polyline><text text-anchor="start" font-size="12" font-weight="100" font-family="sans-serif" fill="black" x="53" y="386">return(result)</text><line x1="50" y1="390" x2="80" y2="390" stroke-width="1" stroke="black"></line><line x1="80" y1="390" x2="80" y2="420" stroke-width="1" stroke="black"></line><line x1="60" y1="420" x2="80" y2="420" stroke-width="1" stroke="black"></line><polyline points="67,413 60,420 67,427" fill="black" stroke-width="1" stroke="black"></polyline><text text-anchor="start" font-size="12" font-weight="100" font-family="sans-serif" fill="black" x="63" y="446"></text><line x1="60" y1="450" x2="80" y2="450" stroke-dasharray="8 5" stroke-width="1" stroke="black"></line><line x1="80" y1="450" x2="80" y2="480" stroke-dasharray="8 5" stroke-width="1" stroke="black"></line><line x1="50" y1="480" x2="80" y2="480" stroke-dasharray="8 5" stroke-width="1" stroke="black"></line><polyline points="57,473 50,480 57,487" fill="transparent" stroke-width="1" stroke="black"></polyline><text text-anchor="start" font-size="12" font-weight="100" font-family="sans-serif" fill="black" x="202" y="146">return(result)</text><line x1="199" y1="150" x2="229" y2="150" stroke-width="1" stroke="black"></line><line x1="229" y1="150" x2="229" y2="180" stroke-width="1" stroke="black"></line><line x1="209" y1="180" x2="229" y2="180" stroke-width="1" stroke="black"></line><polyline points="216,173 209,180 216,187" fill="black" stroke-width="1" stroke="black"></polyline><text text-anchor="start" font-size="12" font-weight="100" font-family="sans-serif" fill="black" x="212" y="266"></text><line x1="209" y1="270" x2="229" y2="270" stroke-dasharray="8 5" stroke-width="1" stroke="black"></line><line x1="229" y1="270" x2="229" y2="300" stroke-dasharray="8 5" stroke-width="1" stroke="black"></line><line x1="199" y1="300" x2="229" y2="300" stroke-dasharray="8 5" stroke-width="1" stroke="black"></line><polyline points="206,293 199,300 206,307" fill="transparent" stroke-width="1" stroke="black"></polyline><g transform="matrix(1,0,0,1,30,45)"><circle r="5" cx="0" cy="-10" fill="url(#SvgjsLinearGradient1009)" stroke-width="1" stroke="black"></circle><line x1="-5" y1="0" x2="5" y2="0" stroke-width="1" stroke="black"></line><line x1="0" y1="-5" x2="0" y2="5" stroke-width="1" stroke="black"></line><line x1="-5" y1="15" x2="0" y2="5" stroke-width="1" stroke="black"></line><line x1="0" y1="5" x2="5" y2="15" stroke-width="1" stroke="black"></line></g><text text-anchor="middle" font-size="12" font-weight="100" font-family="sans-serif" fill="black" x="30" y="71">a</text><g transform="matrix(1,0,0,1,189,45)"><circle r="15" cx="0" cy="0" fill="url(#SvgjsLinearGradient1009)" stroke-width="1" stroke="black"></circle><line x1="-18" y1="-15" x2="-18" y2="15" stroke-width="1" stroke="black"></line><line x1="-18" y1="0" x2="-15" y2="0" stroke-width="1" stroke="black"></line></g><text text-anchor="middle" font-size="12" font-weight="100" font-family="sans-serif" fill="black" x="189" y="71">b</text></svg>